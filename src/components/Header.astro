---
// Aquí podrías incluir lógica si lo necesitas (por ejemplo, props)
import {TITLE} from '../consts';
import '../style/header.css';
import '../style/global.css';
---

<header class="site-header visible">
  <div class="menu-left">
    <ul class="nav-menu-left">
      <li class="menu-item">
        <span class="menu-link">Nosotros</span>
        <ul class="submenu">
          <li class="submenu-header">Conoce a LERRETI</li>
          <li><a href="/historia">Nuestra Historia</a></li>
          <li><a href="/somos">Quiénes somos</a></li>
          <li><a href="/profesionalizacion">Profesionalización</a></li>
        </ul>
      </li>
      <li><a href="/#service" class="menu-link">Servicios</a></li>
    </ul>
  </div>

  <div class="logo-banner">
    <a href="/#"><img src={TITLE} alt="Logo" /></a>
  </div>

  <div class="menu-right">
    <ul class="nav-menu-right">
      <li><a href="/#principios" class="menu-link">Nuestros Principios</a></li>
      <li><a href="/Distinciones" class="menu-link">Distinciones</a></li>
    </ul>
  </div>
</header>

<div id="overlay" class="overlay"></div>



<script>
  document.addEventListener('DOMContentLoaded', () => {
  const header = document.querySelector('.site-header');
  const sectionInicio = document.getElementById('Inicio');
  const menuItem = document.querySelector('.menu-item');
  const overlay = document.getElementById('overlay');

  // Header desaparece antes de la mitad de la sección
  function toggleHeader() {
    if (!sectionInicio) return;

    const rect = sectionInicio.getBoundingClientRect();
    const visibleHeight = Math.min(rect.bottom, window.innerHeight) - Math.max(rect.top, 0);
    const visibleRatio = visibleHeight / rect.height;

    // Ajusta 0.6 para decidir cuándo empieza a desaparecer
    header.classList.toggle('visible', visibleRatio > 0.9);
  }

  window.addEventListener('scroll', toggleHeader);
  window.addEventListener('load', toggleHeader);

  // Overlay del menú
  menuItem.addEventListener('mouseenter', () => overlay.classList.add('active'));
  menuItem.addEventListener('mouseleave', () => overlay.classList.remove('active'));
  overlay.addEventListener('mouseenter', () => overlay.classList.remove('active'));
});
</script>

